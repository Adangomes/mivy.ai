<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FoodHub - Sistema de Delivery</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            text-align: center;
        }

        .header h1 {
            color: #333;
            margin-bottom: 10px;
            font-size: 2.5em;
        }

        .user-selector {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }

        .user-btn {
            padding: 12px 30px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s;
        }

        .user-btn.cliente {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
        }

        .user-btn.restaurante {
            background: linear-gradient(45deg, #2196F3, #1976D2);
            color: white;
        }

        .user-btn.dev {
            background: linear-gradient(45deg, #9C27B0, #673AB7);
            color: white;
        }

        .user-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .user-btn.active {
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 30px;
        }

        .panel {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            min-height: 600px;
        }

        .panel h2 {
            color: #333;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }

        /* Estilos do Restaurante */
        .restaurant-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            border-bottom: 2px solid #eee;
        }

        .tab-btn {
            padding: 12px 20px;
            border: none;
            background: none;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            color: #666;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }

        .tab-btn.active {
            color: #2196F3;
            border-bottom-color: #2196F3;
        }

        .restaurant-tab-content {
            min-height: 500px;
        }

        .tab-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .status-filters {
            display: flex;
            gap: 10px;
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #666;
        }

        .produto-restaurante-card {
            border: 1px solid #eee;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .produto-restaurante-info {
            flex: 1;
        }

        .produto-restaurante-nome {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .produto-restaurante-preco {
            color: #4CAF50;
            font-size: 16px;
            font-weight: bold;
        }

        .produto-actions {
            display: flex;
            gap: 10px;
        }

        .pedido-card {
            border: 1px solid #eee;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
            position: relative;
        }

        .pedido-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .pedido-id {
            font-weight: bold;
            color: #333;
        }

        .status-badge {
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
            text-transform: uppercase;
        }

        .status-badge.pendente {
            background: #fff3cd;
            color: #856404;
        }

        .status-badge.aceito {
            background: #d4edda;
            color: #155724;
        }

        .status-badge.preparando {
            background: #cce5ff;
            color: #004085;
        }

        .status-badge.saiu_entrega {
            background: #fff3cd;
            color: #856404;
        }

        .status-badge.entregue {
            background: #e2e3e5;
            color: #383d41;
        }

        .status-badge.active {
            background: #d4edda;
            color: #155724;
        }

        .pedido-cliente {
            margin-bottom: 10px;
        }

        .pedido-itens {
            margin-bottom: 15px;
        }

        .pedido-item {
            padding: 8px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .pedido-total {
            font-size: 18px;
            font-weight: bold;
            color: #4CAF50;
            margin-bottom: 15px;
        }

        .pedido-actions {
            display: flex;
            gap: 10px;
        }

        .financial-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .financial-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .card-icon {
            font-size: 30px;
        }

        .card-title {
            font-size: 14px;
            opacity: 0.9;
            margin-bottom: 5px;
        }

        .card-value {
            font-size: 24px;
            font-weight: bold;
        }

        .subscription-info {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
        }

        .subscription-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-top: 15px;
        }

        .subscription-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .subscription-card ul {
            list-style: none;
            margin-bottom: 15px;
        }

        .subscription-card li {
            padding: 5px 0;
        }

        /* Status do pedido no cliente */
        .pedido-status-cliente {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .status-timeline {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            position: relative;
        }

        .status-timeline::before {
            content: '';
            position: absolute;
            top: 15px;
            left: 0;
            right: 0;
            height: 2px;
            background: #eee;
            z-index: 1;
        }

        .status-step {
            background: white;
            border: 3px solid #eee;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            z-index: 2;
            position: relative;
        }

        .status-step.active {
            border-color: #4CAF50;
            background: #4CAF50;
            color: white;
        }

        .status-step.completed {
            border-color: #4CAF50;
            background: #4CAF50;
            color: white;
        }

        .search-bar {
            position: relative;
            margin-bottom: 20px;
        }

        .search-bar input {
            width: 100%;
            padding: 15px 50px 15px 20px;
            border: 2px solid #ddd;
            border-radius: 25px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .search-bar input:focus {
            outline: none;
            border-color: #667eea;
        }

        .search-icon {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 20px;
            color: #999;
        }

        .filters {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 8px 16px;
            border: 2px solid #ddd;
            border-radius: 20px;
            background: white;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }

        .filter-btn:hover, .filter-btn.active {
            border-color: #667eea;
            background: #667eea;
            color: white;
        }

        .produto-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .produto-card {
            border: 1px solid #eee;
            border-radius: 15px;
            overflow: hidden;
            transition: all 0.3s;
            background: white;
        }

        .produto-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        .produto-image {
            width: 100%;
            height: 200px;
            background: linear-gradient(45deg, #f0f0f0, #e0e0e0);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 60px;
            position: relative;
        }

        .produto-info {
            padding: 20px;
        }

        .produto-nome {
            font-size: 18px;
            font-weight: bold;
            color: #333;
            margin-bottom: 8px;
        }

        .produto-descricao {
            color: #666;
            font-size: 14px;
            margin-bottom: 15px;
            line-height: 1.4;
        }

        .produto-preco {
            font-size: 24px;
            font-weight: bold;
            color: #4CAF50;
            margin-bottom: 15px;
        }

        .btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            transition: all 0.3s;
            width: 100%;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .btn-success {
            background: linear-gradient(45deg, #4CAF50, #45a049);
        }

        .btn-danger {
            background: linear-gradient(45deg, #f44336, #d32f2f);
        }

        .btn-warning {
            background: linear-gradient(45deg, #ff9800, #f57c00);
        }

        .btn-small {
            padding: 8px 15px;
            font-size: 12px;
            width: auto;
        }

        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .carrinho-sidebar {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            position: sticky;
            top: 20px;
        }

        .carrinho-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #eee;
        }

        .carrinho-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #eee;
        }

        .carrinho-item:last-child {
            border-bottom: none;
        }

        .item-info {
            flex: 1;
        }

        .item-nome {
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }

        .item-detalhes {
            font-size: 12px;
            color: #666;
            margin-bottom: 5px;
        }

        .item-preco {
            color: #4CAF50;
            font-weight: bold;
        }

        .quantidade-controls {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-left: 15px;
        }

        .quantidade-btn {
            width: 30px;
            height: 30px;
            border: 1px solid #ddd;
            border-radius: 50%;
            background: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .quantidade-btn:hover {
            background: #f0f0f0;
        }

        .total-section {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 2px solid #eee;
        }

        .total-line {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .total-final {
            font-size: 20px;
            font-weight: bold;
            color: #333;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }

        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 30px;
            border-radius: 15px;
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #eee;
        }

        .close {
            color: #aaa;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover {
            color: #000;
        }

        .adicionais-section {
            margin-bottom: 25px;
        }

        .adicionais-section h4 {
            margin-bottom: 15px;
            color: #333;
        }

        .adicional-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            border: 1px solid #eee;
            border-radius: 8px;
            margin-bottom: 10px;
        }

        .adicional-item input[type="checkbox"] {
            margin-right: 10px;
        }

        .bebidas-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }

        .bebida-card {
            border: 2px solid #eee;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .bebida-card:hover, .bebida-card.selected {
            border-color: #4CAF50;
            background: #f8fff8;
        }

        .checkout-modal .form-group {
            margin-bottom: 20px;
        }

        .checkout-modal label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #555;
        }

        .checkout-modal input, .checkout-modal select, .checkout-modal textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 14px;
        }

        .checkout-modal input:focus, .checkout-modal select:focus, .checkout-modal textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .payment-methods {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }

        .payment-method {
            border: 2px solid #eee;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .payment-method:hover, .payment-method.selected {
            border-color: #4CAF50;
            background: #f8fff8;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 8px;
            color: white;
            font-weight: bold;
            z-index: 1000;
            animation: slideIn 0.3s ease;
        }

        .notification.success {
            background: #4CAF50;
        }

        .notification.error {
            background: #f44336;
        }

        @keyframes slideIn {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }

        .hidden {
            display: none;
        }

        .empty-cart {
            text-align: center;
            color: #999;
            padding: 40px 20px;
        }

        .empty-cart-icon {
            font-size: 60px;
            margin-bottom: 15px;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .produto-grid {
                grid-template-columns: 1fr;
            }
            
            .user-selector {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 id="headerTitle">üçî FoodHub - √Årea do Cliente</h1>
            <p id="headerSubtitle">Fa√ßa seus pedidos com facilidade</p>
            
            <div class="user-selector">
                <button class="user-btn cliente active" onclick="switchToCliente()">
                    üë§ √Årea do Cliente
                </button>
                <button class="user-btn restaurante" onclick="switchToRestaurante()">
                    üè™ √Årea do Restaurante
                </button>
                <button class="user-btn dev" onclick="toggleDevPanel()">
                    üë®‚Äçüíª Dev Panel
                </button>
            </div>
        </div>

        <!-- Painel do Desenvolvedor -->
        <div id="devPanel" class="panel hidden" style="margin-bottom: 30px;">
            <h2>üë®‚Äçüíª Painel do Desenvolvedor</h2>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                <div>
                    <h3>üìä Dados do Sistema</h3>
                    <button class="btn btn-danger" onclick="limparDados()" style="margin-bottom: 10px;">
                        üóëÔ∏è Limpar Todos os Dados
                    </button>
                    <button class="btn" onclick="gerarDadosDemo()" style="margin-bottom: 10px;">
                        üé≤ Gerar Dados Demo
                    </button>
                    <button class="btn" onclick="exportarDados()">
                        üì• Exportar Dados
                    </button>
                </div>
                <div>
                    <h3>üìà Estat√≠sticas</h3>
                    <p>Restaurantes: <span id="devTotalRestaurantes">0</span></p>
                    <p>Produtos: <span id="devTotalProdutos">0</span></p>
                    <p>Pedidos: <span id="devTotalPedidos">0</span></p>
                </div>
            </div>
        </div>

        <div class="main-content">
            <!-- Painel Principal do Cliente -->
            <div id="clientePanel" class="panel">
                <h2>üõí Card√°pio</h2>
                
                <!-- Status dos Pedidos do Cliente -->
                <div id="statusPedidosCliente"></div>
                
                <!-- Barra de Pesquisa -->
                <div class="search-bar">
                    <input type="text" id="searchInput" placeholder="Pesquisar produtos..." onkeyup="filtrarProdutos()">
                    <span class="search-icon">üîç</span>
                </div>

                <!-- Filtros por Categoria -->
                <div class="filters">
                    <button class="filter-btn active" onclick="filtrarPorCategoria('todos')">Todos</button>
                    <button class="filter-btn" onclick="filtrarPorCategoria('pizzaria')">üçï Pizzas</button>
                    <button class="filter-btn" onclick="filtrarPorCategoria('hamburgueria')">üçî Burgers</button>
                    <button class="filter-btn" onclick="filtrarPorCategoria('japonesa')">üç± Japonesa</button>
                    <button class="filter-btn" onclick="filtrarPorCategoria('italiana')">üçù Italiana</button>
                    <button class="filter-btn" onclick="filtrarPorCategoria('brasileira')">üçΩÔ∏è Brasileira</button>
                </div>

                <!-- Grid de Produtos -->
                <div class="produto-grid" id="produtoGrid"></div>
            </div>

            <!-- Painel do Restaurante -->
            <div id="restaurantePanel" class="panel hidden">
                <div class="restaurant-tabs">
                    <button class="tab-btn active" onclick="abrirAbaRestaurante('produtos')">üì¶ Meus Produtos</button>
                    <button class="tab-btn" onclick="abrirAbaRestaurante('pedidos')">üìã Pedidos</button>
                    <button class="tab-btn" onclick="abrirAbaRestaurante('financeiro')">üí∞ Financeiro</button>
                </div>

                <!-- Aba Produtos -->
                <div id="restauranteProdutos" class="restaurant-tab-content">
                    <div class="tab-header">
                        <h3>üì¶ Gerenciar Produtos</h3>
                        <button class="btn btn-success" onclick="abrirModalNovoProduto()">+ Novo Produto</button>
                    </div>
                    
                    <div class="produtos-restaurante" id="produtosRestaurante">
                        <div class="empty-state">
                            <div style="font-size: 60px; margin-bottom: 20px;">üì¶</div>
                            <h3>Nenhum produto cadastrado</h3>
                            <p>Comece adicionando seus primeiros produtos</p>
                            <button class="btn btn-success" onclick="abrirModalNovoProduto()">+ Adicionar Produto</button>
                        </div>
                    </div>
                </div>

                <!-- Aba Pedidos -->
                <div id="restaurantePedidos" class="restaurant-tab-content hidden">
                    <div class="tab-header">
                        <h3>üìã Pedidos Recebidos</h3>
                        <div class="status-filters">
                            <button class="filter-btn active" onclick="filtrarPedidosRestaurante('todos')">Todos</button>
                            <button class="filter-btn" onclick="filtrarPedidosRestaurante('pendente')">Pendentes</button>
                            <button class="filter-btn" onclick="filtrarPedidosRestaurante('aceito')">Aceitos</button>
                            <button class="filter-btn" onclick="filtrarPedidosRestaurante('preparando')">Preparando</button>
                            <button class="filter-btn" onclick="filtrarPedidosRestaurante('saiu_entrega')">Saiu p/ Entrega</button>
                            <button class="filter-btn" onclick="filtrarPedidosRestaurante('entregue')">Entregues</button>
                        </div>
                    </div>
                    
                    <div class="pedidos-restaurante" id="pedidosRestaurante">
                        <div class="empty-state">
                            <div style="font-size: 60px; margin-bottom: 20px;">üìã</div>
                            <h3>Nenhum pedido ainda</h3>
                            <p>Os pedidos aparecer√£o aqui quando os clientes fizerem compras</p>
                        </div>
                    </div>
                </div>

                <!-- Aba Financeiro -->
                <div id="restauranteFinanceiro" class="restaurant-tab-content hidden">
                    <div class="tab-header">
                        <h3>üí∞ Resumo Financeiro</h3>
                    </div>
                    
                    <div class="financial-cards">
                        <div class="financial-card">
                            <div class="card-icon">üí∞</div>
                            <div class="card-info">
                                <div class="card-title">Faturamento Hoje</div>
                                <div class="card-value" id="faturamentoHoje">R$ 0,00</div>
                            </div>
                        </div>
                        
                        <div class="financial-card">
                            <div class="card-icon">üìä</div>
                            <div class="card-info">
                                <div class="card-title">Pedidos Hoje</div>
                                <div class="card-value" id="pedidosHoje">0</div>
                            </div>
                        </div>
                        
                        <div class="financial-card">
                            <div class="card-icon">üí≥</div>
                            <div class="card-info">
                                <div class="card-title">Taxa Plataforma (5%)</div>
                                <div class="card-value" id="taxaPlataforma">R$ 0,00</div>
                            </div>
                        </div>
                        
                        <div class="financial-card">
                            <div class="card-icon">üíµ</div>
                            <div class="card-info">
                                <div class="card-title">Seu Lucro</div>
                                <div class="card-value" id="lucroRestaurante">R$ 0,00</div>
                            </div>
                        </div>
                    </div>

                    <div class="subscription-info">
                        <h4>üìã Plano de Assinatura</h4>
                        <div class="subscription-card">
                            <div class="subscription-header">
                                <h5>Plano B√°sico - R$ 49,90/m√™s</h5>
                                <span class="status-badge active">Ativo</span>
                            </div>
                            <ul>
                                <li>‚úÖ At√© 50 produtos</li>
                                <li>‚úÖ Gest√£o de pedidos</li>
                                <li>‚úÖ Relat√≥rios b√°sicos</li>
                                <li>‚úÖ Suporte por email</li>
                            </ul>
                            <p><strong>Pr√≥ximo pagamento:</strong> 15/12/2024</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sidebar do Carrinho -->
            <div class="sidebar">
                <div class="carrinho-sidebar">
                    <div class="carrinho-header">
                        <h3>üõí Seu Carrinho</h3>
                        <span id="carrinhoCount">0</span>
                    </div>
                    
                    <div id="carrinhoItens">
                        <div class="empty-cart">
                            <div class="empty-cart-icon">üõí</div>
                            <p>Seu carrinho est√° vazio</p>
                            <small>Adicione produtos para come√ßar</small>
                        </div>
                    </div>

                    <div id="carrinhoTotal" class="total-section hidden">
                        <div class="total-line">
                            <span>Subtotal:</span>
                            <span id="subtotal">R$ 0,00</span>
                        </div>
                        <div class="total-line">
                            <span>Taxa de entrega:</span>
                            <span id="taxaEntrega">R$ 5,00</span>
                        </div>
                        <div class="total-line total-final">
                            <span>Total:</span>
                            <span id="totalFinal">R$ 0,00</span>
                        </div>
                        
                        <button class="btn btn-success" onclick="abrirCheckout()" style="margin-top: 20px;">
                            Finalizar Pedido
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Produto -->
    <div id="produtoModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalProdutoNome">Nome do Produto</h3>
                <span class="close" onclick="fecharModal()">&times;</span>
            </div>
            
            <div id="modalProdutoInfo">
                <div class="produto-image" id="modalProdutoImage">üçï</div>
                <p id="modalProdutoDescricao">Descri√ß√£o do produto</p>
                <div class="produto-preco" id="modalProdutoPreco">R$ 0,00</div>
            </div>

            <!-- Adicionais -->
            <div class="adicionais-section">
                <h4>üßÄ Adicionais</h4>
                <div id="adicionaisList"></div>
            </div>

            <!-- Bebidas -->
            <div class="adicionais-section">
                <h4>ü•§ Escolha sua bebida</h4>
                <div class="bebidas-grid" id="bebidasList"></div>
            </div>

            <!-- Observa√ß√µes -->
            <div class="adicionais-section">
                <h4>üìù Observa√ß√µes</h4>
                <textarea id="observacoes" placeholder="Alguma observa√ß√£o especial?" rows="3" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px;"></textarea>
            </div>

            <div style="display: flex; gap: 15px; margin-top: 25px;">
                <button class="btn" onclick="fecharModal()" style="flex: 1;">Cancelar</button>
                <button class="btn btn-success" onclick="adicionarAoCarrinho()" style="flex: 2;">
                    Adicionar ao Carrinho - <span id="precoTotal">R$ 0,00</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Modal de Novo Produto -->
    <div id="novoProdutoModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>üì¶ Novo Produto</h3>
                <span class="close" onclick="fecharModalNovoProduto()">&times;</span>
            </div>
            
            <div class="form-group">
                <label>Nome do Produto:</label>
                <input type="text" id="novoProdutoNome" placeholder="Ex: Pizza Margherita">
            </div>

            <div class="form-group">
                <label>Categoria:</label>
                <select id="novoProdutoCategoria">
                    <option value="pizzaria">üçï Pizzaria</option>
                    <option value="hamburgueria">üçî Hamburgueria</option>
                    <option value="japonesa">üç± Japonesa</option>
                    <option value="italiana">üçù Italiana</option>
                    <option value="brasileira">üçΩÔ∏è Brasileira</option>
                </select>
            </div>

            <div class="form-group">
                <label>Descri√ß√£o:</label>
                <textarea id="novoProdutoDescricao" placeholder="Descreva seu produto..." rows="3"></textarea>
            </div>

            <div class="form-group">
                <label>Pre√ßo (R$):</label>
                <input type="number" id="novoProdutoPreco" placeholder="0.00" step="0.01" min="0">
            </div>

            <div class="form-group">
                <label>Emoji do Produto:</label>
                <input type="text" id="novoProdutoEmoji" placeholder="üçï" maxlength="2">
            </div>

            <div style="display: flex; gap: 15px; margin-top: 25px;">
                <button class="btn" onclick="fecharModalNovoProduto()" style="flex: 1;">Cancelar</button>
                <button class="btn btn-success" onclick="salvarNovoProduto()" style="flex: 2;">
                    Salvar Produto
                </button>
            </div>
        </div>
    </div>

    <!-- Modal de Checkout -->
    <div id="checkoutModal" class="modal">
        <div class="modal-content checkout-modal">
            <div class="modal-header">
                <h3>üõí Finalizar Pedido</h3>
                <span class="close" onclick="fecharCheckout()">&times;</span>
            </div>

            <div class="form-group">
                <label>Nome Completo:</label>
                <input type="text" id="clienteNome" placeholder="Seu nome completo">
            </div>

            <div class="form-group">
                <label>Telefone:</label>
                <input type="tel" id="clienteTelefone" placeholder="(11) 99999-9999">
            </div>

            <div class="form-group">
                <label>Rua:</label>
                <input type="text" id="clienteRua" placeholder="Nome da rua">
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                <div class="form-group">
                    <label>N√∫mero:</label>
                    <input type="text" id="clienteNumero" placeholder="123">
                </div>
                <div class="form-group">
                    <label>Complemento:</label>
                    <input type="text" id="clienteComplemento" placeholder="Apto, bloco... (opcional)">
                </div>
            </div>

            <div class="form-group">
                <label>Bairro:</label>
                <input type="text" id="clienteBairro" placeholder="Nome do bairro">
            </div>

            <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 15px;">
                <div class="form-group">
                    <label>Cidade:</label>
                    <input type="text" id="clienteCidade" placeholder="Nome da cidade">
                </div>
                <div class="form-group">
                    <label>Estado:</label>
                    <select id="clienteEstado">
                        <option value="">Selecione</option>
                        <option value="AC">AC</option>
                        <option value="AL">AL</option>
                        <option value="AP">AP</option>
                        <option value="AM">AM</option>
                        <option value="BA">BA</option>
                        <option value="CE">CE</option>
                        <option value="DF">DF</option>
                        <option value="ES">ES</option>
                        <option value="GO">GO</option>
                        <option value="MA">MA</option>
                        <option value="MT">MT</option>
                        <option value="MS">MS</option>
                        <option value="MG">MG</option>
                        <option value="PA">PA</option>
                        <option value="PB">PB</option>
                        <option value="PR">PR</option>
                        <option value="PE">PE</option>
                        <option value="PI">PI</option>
                        <option value="RJ">RJ</option>
                        <option value="RN">RN</option>
                        <option value="RS">RS</option>
                        <option value="RO">RO</option>
                        <option value="RR">RR</option>
                        <option value="SC">SC</option>
                        <option value="SP">SP</option>
                        <option value="SE">SE</option>
                        <option value="TO">TO</option>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label>CEP:</label>
                <input type="text" id="clienteCep" placeholder="00000-000" maxlength="9" onkeyup="formatarCep(this)">
            </div>

            <div class="form-group">
                <label>Forma de Pagamento:</label>
                <div class="payment-methods">
                    <div class="payment-method" onclick="selecionarPagamento('dinheiro')">
                        <div>üíµ</div>
                        <div>Dinheiro</div>
                    </div>
                    <div class="payment-method" onclick="selecionarPagamento('cartao')">
                        <div>üí≥</div>
                        <div>Cart√£o</div>
                    </div>
                    <div class="payment-method" onclick="selecionarPagamento('pix')">
                        <div>üì±</div>
                        <div>PIX</div>
                    </div>
                </div>
            </div>

            <div id="trocoSection" class="form-group hidden">
                <label>Troco para quanto?</label>
                <input type="number" id="valorTroco" placeholder="0.00" step="0.01">
            </div>

            <div class="total-section">
                <div class="total-line">
                    <span>Subtotal:</span>
                    <span id="checkoutSubtotal">R$ 0,00</span>
                </div>
                <div class="total-line">
                    <span>Taxa de entrega:</span>
                    <span>R$ 5,00</span>
                </div>
                <div class="total-line total-final">
                    <span>Total:</span>
                    <span id="checkoutTotal">R$ 0,00</span>
                </div>
            </div>

            <div style="display: flex; gap: 15px; margin-top: 25px;">
                <button class="btn" onclick="fecharCheckout()" style="flex: 1;">Cancelar</button>
                <button class="btn btn-success" onclick="confirmarPedido()" style="flex: 2;">
                    Confirmar Pedido
                </button>
            </div>
        </div>
    </div>

    <script>
        // Sistema de dados
        let restaurantes = [];
        let produtos = [];
        let pedidos = [];
        let carrinho = [];
        let produtoAtual = null;
        let adicionaisSelecionados = [];
        let bebidaSelecionada = null;
        let formaPagamento = null;
        let devPanelVisible = false;
        let restauranteAtualId = 1; // Simula o restaurante logado

        // Dados de adicionais e bebidas
        const adicionaisDisponiveis = [
            { id: 1, nome: "Queijo Extra", preco: 3.00 },
            { id: 2, nome: "Bacon", preco: 4.50 },
            { id: 3, nome: "Calabresa", preco: 4.00 },
            { id: 4, nome: "Champignon", preco: 3.50 },
            { id: 5, nome: "Azeitona", preco: 2.00 },
            { id: 6, nome: "Cebola", preco: 1.50 }
        ];

        const bebidasDisponiveis = [
            { id: 1, nome: "Coca-Cola 350ml", preco: 4.50, emoji: "ü•§" },
            { id: 2, nome: "Guaran√° 350ml", preco: 4.00, emoji: "ü•§" },
            { id: 3, nome: "√Ågua 500ml", preco: 2.50, emoji: "üíß" },
            { id: 4, nome: "Suco Natural", preco: 6.00, emoji: "üßÉ" },
            { id: 5, nome: "Cerveja", preco: 8.00, emoji: "üç∫" }
        ];

        function inicializarDados() {
            restaurantes = [
                { id: 1, nome: "Pizzaria Bella", categoria: "pizzaria", ativo: true },
                { id: 2, nome: "Burger Master", categoria: "hamburgueria", ativo: true },
                { id: 3, nome: "Sushi Zen", categoria: "japonesa", ativo: true },
                { id: 4, nome: "Pasta & Amore", categoria: "italiana", ativo: true },
                { id: 5, nome: "Sabor Brasileiro", categoria: "brasileira", ativo: true }
            ];

            produtos = [
                // Pizzaria
                { id: 1, restauranteId: 1, nome: "Pizza Margherita", categoria: "pizzaria", descricao: "Molho de tomate, mussarela e manjeric√£o fresco", preco: 35.90, emoji: "üçï" },
                { id: 2, restauranteId: 1, nome: "Pizza Calabresa", categoria: "pizzaria", descricao: "Molho de tomate, mussarela e calabresa", preco: 38.90, emoji: "üçï" },
                { id: 3, restauranteId: 1, nome: "Pizza Portuguesa", categoria: "pizzaria", descricao: "Presunto, ovos, cebola, azeitona e mussarela", preco: 42.90, emoji: "üçï" },
                
                // Hamburgueria
                { id: 4, restauranteId: 2, nome: "Big Master Burger", categoria: "hamburgueria", descricao: "Hamb√∫rguer duplo, queijo, bacon e molho especial", preco: 28.50, emoji: "üçî" },
                { id: 5, restauranteId: 2, nome: "Chicken Crispy", categoria: "hamburgueria", descricao: "Frango empanado, alface, tomate e maionese", preco: 24.90, emoji: "üçî" },
                { id: 6, restauranteId: 2, nome: "Veggie Burger", categoria: "hamburgueria", descricao: "Hamb√∫rguer vegetariano com queijo e salada", preco: 22.90, emoji: "ü•ó" },
                
                // Japonesa
                { id: 7, restauranteId: 3, nome: "Combo Sashimi", categoria: "japonesa", descricao: "15 pe√ßas de sashimi variado", preco: 45.00, emoji: "üç±" },
                { id: 8, restauranteId: 3, nome: "Temaki Salm√£o", categoria: "japonesa", descricao: "Temaki de salm√£o com cream cheese", preco: 18.90, emoji: "üç±" },
                { id: 9, restauranteId: 3, nome: "Hot Roll Filad√©lfia", categoria: "japonesa", descricao: "8 pe√ßas empanadas com salm√£o e cream cheese", preco: 32.90, emoji: "üç±" },
                
                // Italiana
                { id: 10, restauranteId: 4, nome: "Spaghetti Carbonara", categoria: "italiana", descricao: "Massa com bacon, ovos, queijo parmes√£o", preco: 26.90, emoji: "üçù" },
                { id: 11, restauranteId: 4, nome: "Lasanha Bolonhesa", categoria: "italiana", descricao: "Lasanha tradicional com molho bolonhesa", preco: 29.90, emoji: "üçù" },
                
                // Brasileira
                { id: 12, restauranteId: 5, nome: "Feijoada Completa", categoria: "brasileira", descricao: "Feijoada com acompanhamentos tradicionais", preco: 32.90, emoji: "üçΩÔ∏è" },
                { id: 13, restauranteId: 5, nome: "Picanha Grelhada", categoria: "brasileira", descricao: "Picanha grelhada com arroz, feij√£o e salada", preco: 38.90, emoji: "ü•©" }
            ];
        }

        function switchToCliente() {
            document.querySelectorAll('.user-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelector('.user-btn.cliente').classList.add('active');
            
            document.getElementById('headerTitle').textContent = 'üçî FoodHub - √Årea do Cliente';
            document.getElementById('headerSubtitle').textContent = 'Fa√ßa seus pedidos com facilidade';
            
            document.getElementById('clientePanel').classList.remove('hidden');
            document.getElementById('restaurantePanel').classList.add('hidden');
            document.getElementById('devPanel').classList.add('hidden');
            document.querySelector('.sidebar').classList.remove('hidden');
            devPanelVisible = false;
            
            carregarProdutos();
            atualizarStatusPedidosCliente();
        }

        function switchToRestaurante() {
            document.querySelectorAll('.user-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelector('.user-btn.restaurante').classList.add('active');
            
            document.getElementById('headerTitle').textContent = 'üè™ FoodHub - √Årea do Restaurante';
            document.getElementById('headerSubtitle').textContent = 'Gerencie seu neg√≥cio';
            
            document.getElementById('clientePanel').classList.add('hidden');
            document.getElementById('restaurantePanel').classList.remove('hidden');
            document.getElementById('devPanel').classList.add('hidden');
            document.querySelector('.sidebar').classList.add('hidden');
            devPanelVisible = false;
            
            abrirAbaRestaurante('produtos');
        }

        function toggleDevPanel() {
            devPanelVisible = !devPanelVisible;
            
            if (devPanelVisible) {
                document.getElementById('devPanel').classList.remove('hidden');
                document.querySelector('.user-btn.dev').classList.add('active');
                atualizarDevPanel();
            } else {
                document.getElementById('devPanel').classList.add('hidden');
                document.querySelector('.user-btn.dev').classList.remove('active');
            }
        }

        // Fun√ß√µes do Restaurante
        function abrirAbaRestaurante(aba) {
            // Atualizar tabs
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelector(`.tab-btn[onclick="abrirAbaRestaurante('${aba}')"]`).classList.add('active');
            
            // Mostrar conte√∫do
            document.querySelectorAll('.restaurant-tab-content').forEach(content => content.classList.add('hidden'));
            document.getElementById(`restaurante${aba.charAt(0).toUpperCase() + aba.slice(1)}`).classList.remove('hidden');
            
            if (aba === 'produtos') {
                carregarProdutosRestaurante();
            } else if (aba === 'pedidos') {
                carregarPedidosRestaurante();
            } else if (aba === 'financeiro') {
                atualizarFinanceiro();
            }
        }

        function carregarProdutosRestaurante() {
            const container = document.getElementById('produtosRestaurante');
            const produtosRestaurante = produtos.filter(p => p.restauranteId === restauranteAtualId);
            
            if (produtosRestaurante.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <div style="font-size: 60px; margin-bottom: 20px;">üì¶</div>
                        <h3>Nenhum produto cadastrado</h3>
                        <p>Comece adicionando seus primeiros produtos</p>
                        <button class="btn btn-success" onclick="abrirModalNovoProduto()">+ Adicionar Produto</button>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = '';
            produtosRestaurante.forEach(produto => {
                const card = document.createElement('div');
                card.className = 'produto-restaurante-card';
                card.innerHTML = `
                    <div class="produto-restaurante-info">
                        <div class="produto-restaurante-nome">${produto.emoji} ${produto.nome}</div>
                        <div style="color: #666; margin-bottom: 5px;">${produto.descricao}</div>
                        <div class="produto-restaurante-preco">R$ ${produto.preco.toFixed(2)}</div>
                    </div>
                    <div class="produto-actions">
                        <button class="btn btn-small" onclick="editarProduto(${produto.id})">‚úèÔ∏è Editar</button>
                        <button class="btn btn-danger btn-small" onclick="excluirProduto(${produto.id})">üóëÔ∏è Excluir</button>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        function carregarPedidosRestaurante() {
            const container = document.getElementById('pedidosRestaurante');
            const pedidosRestaurante = pedidos.filter(pedido => 
                pedido.itens.some(item => {
                    const produto = produtos.find(p => p.id === item.produtoId);
                    return produto && produto.restauranteId === restauranteAtualId;
                })
            );
            
            if (pedidosRestaurante.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <div style="font-size: 60px; margin-bottom: 20px;">üìã</div>
                        <h3>Nenhum pedido ainda</h3>
                        <p>Os pedidos aparecer√£o aqui quando os clientes fizerem compras</p>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = '';
            pedidosRestaurante.forEach(pedido => {
                const card = document.createElement('div');
                card.className = 'pedido-card';
                card.setAttribute('data-status', pedido.status);
                
                const statusActions = getStatusActions(pedido.status, pedido.id);
                
                card.innerHTML = `
                    <div class="pedido-header">
                        <div class="pedido-id">Pedido #${pedido.id}</div>
                        <span class="status-badge ${pedido.status}">${getStatusText(pedido.status)}</span>
                    </div>
                    
                    <div class="pedido-cliente">
                        <strong>Cliente:</strong> ${pedido.cliente.nome}<br>
                        <strong>Telefone:</strong> ${pedido.cliente.telefone}<br>
                        <strong>Endere√ßo:</strong> ${pedido.cliente.endereco.enderecoCompleto}
                    </div>
                    
                    <div class="pedido-itens">
                        <strong>Itens:</strong>
                        ${pedido.itens.map(item => `
                            <div class="pedido-item">
                                ${item.quantidade}x ${item.nome} - R$ ${(item.preco * item.quantidade).toFixed(2)}
                                ${item.detalhes ? `<br><small>${item.detalhes}</small>` : ''}
                            </div>
                        `).join('')}
                    </div>
                    
                    <div class="pedido-total">Total: R$ ${pedido.total.toFixed(2)}</div>
                    
                    <div class="pedido-actions">
                        ${statusActions}
                    </div>
                `;
                
                container.appendChild(card);
            });
        }

        function getStatusText(status) {
            const statusMap = {
                'pendente': 'Pendente',
                'aceito': 'Aceito',
                'preparando': 'Preparando',
                'saiu_entrega': 'Saiu para Entrega',
                'entregue': 'Entregue'
            };
            return statusMap[status] || status;
        }

        function getStatusActions(status, pedidoId) {
            switch(status) {
                case 'pendente':
                    return `
                        <button class="btn btn-success btn-small" onclick="aceitarPedido(${pedidoId})">‚úÖ Aceitar</button>
                        <button class="btn btn-danger btn-small" onclick="rejeitarPedido(${pedidoId})">‚ùå Rejeitar</button>
                    `;
                case 'aceito':
                    return `<button class="btn btn-warning btn-small" onclick="iniciarPreparo(${pedidoId})">üë®‚Äçüç≥ Iniciar Preparo</button>`;
                case 'preparando':
                    return `<button class="btn btn-success btn-small" onclick="enviarEntrega(${pedidoId})">üöö Enviar para Entrega</button>`;
                case 'saiu_entrega':
                    return `<button class="btn btn-success btn-small" onclick="finalizarPedido(${pedidoId})">‚úÖ Confirmar Entrega</button>`;
                default:
                    return '';
            }
        }

        function aceitarPedido(pedidoId) {
            const pedido = pedidos.find(p => p.id === pedidoId);
            if (pedido) {
                pedido.status = 'aceito';
                carregarPedidosRestaurante();
                atualizarFinanceiro();
                mostrarNotificacao('Pedido aceito!', 'success');
            }
        }

        function rejeitarPedido(pedidoId) {
            if (confirm('Tem certeza que deseja rejeitar este pedido?')) {
                const index = pedidos.findIndex(p => p.id === pedidoId);
                if (index > -1) {
                    pedidos.splice(index, 1);
                    carregarPedidosRestaurante();
                    mostrarNotificacao('Pedido rejeitado', 'error');
                }
            }
        }

        function iniciarPreparo(pedidoId) {
            const pedido = pedidos.find(p => p.id === pedidoId);
            if (pedido) {
                pedido.status = 'preparando';
                carregarPedidosRestaurante();
                mostrarNotificacao('Preparo iniciado!', 'success');
            }
        }

        function enviarEntrega(pedidoId) {
            const pedido = pedidos.find(p => p.id === pedidoId);
            if (pedido) {
                pedido.status = 'saiu_entrega';
                carregarPedidosRestaurante();
                mostrarNotificacao('Pedido saiu para entrega!', 'success');
            }
        }

        function finalizarPedido(pedidoId) {
            const pedido = pedidos.find(p => p.id === pedidoId);
            if (pedido) {
                pedido.status = 'entregue';
                carregarPedidosRestaurante();
                atualizarFinanceiro();
                mostrarNotificacao('Pedido entregue!', 'success');
            }
        }

        function filtrarPedidosRestaurante(status) {
            document.querySelectorAll('.status-filters .filter-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            const cards = document.querySelectorAll('.pedido-card');
            cards.forEach(card => {
                if (status === 'todos' || card.getAttribute('data-status') === status) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        function atualizarFinanceiro() {
            const hoje = new Date().toDateString();
            const pedidosHoje = pedidos.filter(p => 
                new Date(p.data).toDateString() === hoje && 
                p.status === 'entregue' &&
                p.itens.some(item => {
                    const produto = produtos.find(prod => prod.id === item.produtoId);
                    return produto && produto.restauranteId === restauranteAtualId;
                })
            );
            
            const faturamento = pedidosHoje.reduce((sum, pedido) => sum + pedido.total, 0);
            const taxa = faturamento * 0.05; // 5% de taxa da plataforma
            const lucro = faturamento - taxa;
            
            document.getElementById('faturamentoHoje').textContent = `R$ ${faturamento.toFixed(2)}`;
            document.getElementById('pedidosHoje').textContent = pedidosHoje.length;
            document.getElementById('taxaPlataforma').textContent = `R$ ${taxa.toFixed(2)}`;
            document.getElementById('lucroRestaurante').textContent = `R$ ${lucro.toFixed(2)}`;
        }

        function abrirModalNovoProduto() {
            document.getElementById('novoProdutoModal').style.display = 'block';
        }

        function fecharModalNovoProduto() {
            document.getElementById('novoProdutoModal').style.display = 'none';
            // Limpar campos
            document.getElementById('novoProdutoNome').value = '';
            document.getElementById('novoProdutoDescricao').value = '';
            document.getElementById('novoProdutoPreco').value = '';
            document.getElementById('novoProdutoEmoji').value = '';
        }

        function salvarNovoProduto() {
            const nome = document.getElementById('novoProdutoNome').value;
            const categoria = document.getElementById('novoProdutoCategoria').value;
            const descricao = document.getElementById('novoProdutoDescricao').value;
            const preco = parseFloat(document.getElementById('novoProdutoPreco').value);
            const emoji = document.getElementById('novoProdutoEmoji').value || 'üçΩÔ∏è';
            
            if (!nome || !descricao || !preco) {
                mostrarNotificacao('Preencha todos os campos obrigat√≥rios', 'error');
                return;
            }
            
            const novoProduto = {
                id: Date.now(),
                restauranteId: restauranteAtualId,
                nome: nome,
                categoria: categoria,
                descricao: descricao,
                preco: preco,
                emoji: emoji
            };
            
            produtos.push(novoProduto);
            carregarProdutosRestaurante();
            fecharModalNovoProduto();
            mostrarNotificacao('Produto cadastrado com sucesso!', 'success');
        }

        function editarProduto(produtoId) {
            const produto = produtos.find(p => p.id === produtoId);
            if (produto) {
                document.getElementById('novoProdutoNome').value = produto.nome;
                document.getElementById('novoProdutoCategoria').value = produto.categoria;
                document.getElementById('novoProdutoDescricao').value = produto.descricao;
                document.getElementById('novoProdutoPreco').value = produto.preco;
                document.getElementById('novoProdutoEmoji').value = produto.emoji;
                
                // Alterar o bot√£o para "Atualizar"
                const modal = document.getElementById('novoProdutoModal');
                modal.querySelector('h3').textContent = '‚úèÔ∏è Editar Produto';
                modal.querySelector('.btn-success').textContent = 'Atualizar Produto';
                modal.querySelector('.btn-success').onclick = () => atualizarProduto(produtoId);
                
                modal.style.display = 'block';
            }
        }

        function atualizarProduto(produtoId) {
            const produto = produtos.find(p => p.id === produtoId);
            if (produto) {
                produto.nome = document.getElementById('novoProdutoNome').value;
                produto.categoria = document.getElementById('novoProdutoCategoria').value;
                produto.descricao = document.getElementById('novoProdutoDescricao').value;
                produto.preco = parseFloat(document.getElementById('novoProdutoPreco').value);
                produto.emoji = document.getElementById('novoProdutoEmoji').value || 'üçΩÔ∏è';
                
                carregarProdutosRestaurante();
                carregarProdutos(); // Atualizar tamb√©m a √°rea do cliente
                fecharModalNovoProduto();
                mostrarNotificacao('Produto atualizado!', 'success');
                
                // Restaurar o modal para "novo produto"
                const modal = document.getElementById('novoProdutoModal');
                modal.querySelector('h3').textContent = 'üì¶ Novo Produto';
                modal.querySelector('.btn-success').textContent = 'Salvar Produto';
                modal.querySelector('.btn-success').onclick = salvarNovoProduto;
            }
        }

        function excluirProduto(produtoId) {
            if (confirm('Tem certeza que deseja excluir este produto?')) {
                const index = produtos.findIndex(p => p.id === produtoId);
                if (index > -1) {
                    produtos.splice(index, 1);
                    carregarProdutosRestaurante();
                    carregarProdutos(); // Atualizar tamb√©m a √°rea do cliente
                    mostrarNotificacao('Produto exclu√≠do', 'error');
                }
            }
        }

        // Fun√ß√µes do Cliente
        function carregarProdutos() {
            const grid = document.getElementById('produtoGrid');
            grid.innerHTML = '';

            produtos.forEach(produto => {
                const card = document.createElement('div');
                card.className = 'produto-card';
                card.setAttribute('data-categoria', produto.categoria);
                
                card.innerHTML = `
                    <div class="produto-image">${produto.emoji}</div>
                    <div class="produto-info">
                        <div class="produto-nome">${produto.nome}</div>
                        <div class="produto-descricao">${produto.descricao}</div>
                        <div class="produto-preco">R$ ${produto.preco.toFixed(2)}</div>
                        <button class="btn" onclick="abrirModalProduto(${produto.id})">
                            Personalizar e Adicionar
                        </button>
                    </div>
                `;
                
                grid.appendChild(card);
            });
        }

        function atualizarStatusPedidosCliente() {
            const container = document.getElementById('statusPedidosCliente');
            const pedidosAtivos = pedidos.filter(p => p.status !== 'entregue');
            
            if (pedidosAtivos.length === 0) {
                container.innerHTML = '';
                return;
            }
            
            container.innerHTML = '';
            pedidosAtivos.forEach(pedido => {
                const statusDiv = document.createElement('div');
                statusDiv.className = 'pedido-status-cliente';
                
                const steps = ['pendente', 'aceito', 'preparando', 'saiu_entrega', 'entregue'];
                const currentIndex = steps.indexOf(pedido.status);
                
                statusDiv.innerHTML = `
                    <h4>üõí Pedido #${pedido.id} - ${getStatusText(pedido.status)}</h4>
                    <p><strong>Total:</strong> R$ ${pedido.total.toFixed(2)}</p>
                    
                    <div class="status-timeline">
                        ${steps.map((step, index) => `
                            <div class="status-step ${index <= currentIndex ? 'completed' : ''} ${index === currentIndex ? 'active' : ''}">
                                ${index + 1}
                            </div>
                        `).join('')}
                    </div>
                    
                    <div style="display: flex; justify-content: space-between; margin-top: 10px; font-size: 11px;">
                        <span>Pedido</span>
                        <span>Aceito</span>
                        <span>Preparando</span>
                        <span>Saiu p/ Entrega</span>
                        <span>Entregue</span>
                    </div>
                `;
                
                container.appendChild(statusDiv);
            });
        }

        function filtrarProdutos() {
            const termo = document.getElementById('searchInput').value.toLowerCase();
            const cards = document.querySelectorAll('.produto-card');
            
            cards.forEach(card => {
                const nome = card.querySelector('.produto-nome').textContent.toLowerCase();
                const descricao = card.querySelector('.produto-descricao').textContent.toLowerCase();
                
                if (nome.includes(termo) || descricao.includes(termo)) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        function filtrarPorCategoria(categoria) {
            document.querySelectorAll('.filters .filter-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            const cards = document.querySelectorAll('.produto-card');
            
            cards.forEach(card => {
                if (categoria === 'todos' || card.getAttribute('data-categoria') === categoria) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        function abrirModalProduto(produtoId) {
            produtoAtual = produtos.find(p => p.id === produtoId);
            adicionaisSelecionados = [];
            bebidaSelecionada = null;
            
            // Preencher informa√ß√µes do produto
            document.getElementById('modalProdutoNome').textContent = produtoAtual.nome;
            document.getElementById('modalProdutoImage').textContent = produtoAtual.emoji;
            document.getElementById('modalProdutoDescricao').textContent = produtoAtual.descricao;
            document.getElementById('modalProdutoPreco').textContent = `R$ ${produtoAtual.preco.toFixed(2)}`;
            
            // Carregar adicionais
            const adicionaisList = document.getElementById('adicionaisList');
            adicionaisList.innerHTML = '';
            
            adicionaisDisponiveis.forEach(adicional => {
                const item = document.createElement('div');
                item.className = 'adicional-item';
                item.innerHTML = `
                    <label>
                        <input type="checkbox" onchange="toggleAdicional(${adicional.id})">
                        ${adicional.nome}
                    </label>
                    <span>+ R$ ${adicional.preco.toFixed(2)}</span>
                `;
                adicionaisList.appendChild(item);
            });
            
            // Carregar bebidas
            const bebidasList = document.getElementById('bebidasList');
            bebidasList.innerHTML = '';
            
            bebidasDisponiveis.forEach(bebida => {
                const card = document.createElement('div');
                card.className = 'bebida-card';
                card.onclick = () => selecionarBebida(bebida.id);
                card.innerHTML = `
                    <div style="font-size: 30px; margin-bottom: 10px;">${bebida.emoji}</div>
                    <div style="font-weight: bold; margin-bottom: 5px;">${bebida.nome}</div>
                    <div style="color: #4CAF50;">R$ ${bebida.preco.toFixed(2)}</div>
                `;
                bebidasList.appendChild(card);
            });
            
            atualizarPrecoTotal();
            document.getElementById('produtoModal').style.display = 'block';
        }

        function toggleAdicional(adicionalId) {
            const index = adicionaisSelecionados.indexOf(adicionalId);
            if (index > -1) {
                adicionaisSelecionados.splice(index, 1);
            } else {
                adicionaisSelecionados.push(adicionalId);
            }
            atualizarPrecoTotal();
        }

        function selecionarBebida(bebidaId) {
            document.querySelectorAll('.bebida-card').forEach(card => card.classList.remove('selected'));
            event.target.closest('.bebida-card').classList.add('selected');
            bebidaSelecionada = bebidaId;
            atualizarPrecoTotal();
        }

        function atualizarPrecoTotal() {
            let total = produtoAtual.preco;
            
            // Adicionar pre√ßo dos adicionais
            adicionaisSelecionados.forEach(id => {
                const adicional = adicionaisDisponiveis.find(a => a.id === id);
                total += adicional.preco;
            });
            
            // Adicionar pre√ßo da bebida
            if (bebidaSelecionada) {
                const bebida = bebidasDisponiveis.find(b => b.id === bebidaSelecionada);
                total += bebida.preco;
            }
            
            document.getElementById('precoTotal').textContent = `R$ ${total.toFixed(2)}`;
        }

        function adicionarAoCarrinho() {
            const observacoes = document.getElementById('observacoes').value;
            
            let total = produtoAtual.preco;
            let detalhes = [];
            
            // Processar adicionais
            const adicionaisNomes = adicionaisSelecionados.map(id => {
                const adicional = adicionaisDisponiveis.find(a => a.id === id);
                total += adicional.preco;
                return adicional.nome;
            });
            
            if (adicionaisNomes.length > 0) {
                detalhes.push(`Adicionais: ${adicionaisNomes.join(', ')}`);
            }
            
            // Processar bebida
            let bebidaNome = '';
            if (bebidaSelecionada) {
                const bebida = bebidasDisponiveis.find(b => b.id === bebidaSelecionada);
                total += bebida.preco;
                bebidaNome = bebida.nome;
                detalhes.push(`Bebida: ${bebidaNome}`);
            }
            
            if (observacoes) {
                detalhes.push(`Obs: ${observacoes}`);
            }
            
            const itemCarrinho = {
                id: Date.now(),
                produtoId: produtoAtual.id,
                nome: produtoAtual.nome,
                preco: total,
                quantidade: 1,
                detalhes: detalhes.join(' | '),
                adicionais: [...adicionaisSelecionados],
                bebida: bebidaSelecionada,
                observacoes: observacoes
            };
            
            carrinho.push(itemCarrinho);
            atualizarCarrinho();
            fecharModal();
            mostrarNotificacao('Produto adicionado ao carrinho!', 'success');
        }

        function atualizarCarrinho() {
            const itensDiv = document.getElementById('carrinhoItens');
            const countSpan = document.getElementById('carrinhoCount');
            const totalSection = document.getElementById('carrinhoTotal');
            
            countSpan.textContent = carrinho.length;
            
            if (carrinho.length === 0) {
                itensDiv.innerHTML = `
                    <div class="empty-cart">
                        <div class="empty-cart-icon">üõí</div>
                        <p>Seu carrinho est√° vazio</p>
                        <small>Adicione produtos para come√ßar</small>
                    </div>
                `;
                totalSection.classList.add('hidden');
                return;
            }
            
            totalSection.classList.remove('hidden');
            itensDiv.innerHTML = '';
            
            let subtotal = 0;
            
            carrinho.forEach((item, index) => {
                const itemDiv = document.createElement('div');
                itemDiv.className = 'carrinho-item';
                
                itemDiv.innerHTML = `
                    <div class="item-info">
                        <div class="item-nome">${item.nome}</div>
                        ${item.detalhes ? `<div class="item-detalhes">${item.detalhes}</div>` : ''}
                        <div class="item-preco">R$ ${item.preco.toFixed(2)}</div>
                    </div>
                    <div class="quantidade-controls">
                        <button class="quantidade-btn" onclick="alterarQuantidade(${index}, -1)">-</button>
                        <span>${item.quantidade}</span>
                        <button class="quantidade-btn" onclick="alterarQuantidade(${index}, 1)">+</button>
                        <button class="quantidade-btn" onclick="removerItem(${index})" style="margin-left: 10px; color: red;">√ó</button>
                    </div>
                `;
                
                itensDiv.appendChild(itemDiv);
                subtotal += item.preco * item.quantidade;
            });
            
            const taxaEntrega = 5.00;
            const total = subtotal + taxaEntrega;
            
            document.getElementById('subtotal').textContent = `R$ ${subtotal.toFixed(2)}`;
            document.getElementById('totalFinal').textContent = `R$ ${total.toFixed(2)}`;
        }

        function alterarQuantidade(index, delta) {
            carrinho[index].quantidade += delta;
            if (carrinho[index].quantidade <= 0) {
                carrinho.splice(index, 1);
            }
            atualizarCarrinho();
        }

        function removerItem(index) {
            carrinho.splice(index, 1);
            atualizarCarrinho();
        }

        function abrirCheckout() {
            if (carrinho.length === 0) {
                mostrarNotificacao('Carrinho vazio', 'error');
                return;
            }
            
            const subtotal = carrinho.reduce((sum, item) => sum + (item.preco * item.quantidade), 0);
            const total = subtotal + 5.00;
            
            document.getElementById('checkoutSubtotal').textContent = `R$ ${subtotal.toFixed(2)}`;
            document.getElementById('checkoutTotal').textContent = `R$ ${total.toFixed(2)}`;
            
            document.getElementById('checkoutModal').style.display = 'block';
        }

        function selecionarPagamento(tipo) {
            document.querySelectorAll('.payment-method').forEach(method => method.classList.remove('selected'));
            event.target.closest('.payment-method').classList.add('selected');
            formaPagamento = tipo;
            
            const trocoSection = document.getElementById('trocoSection');
            if (tipo === 'dinheiro') {
                trocoSection.classList.remove('hidden');
            } else {
                trocoSection.classList.add('hidden');
            }
        }

        function confirmarPedido() {
            const nome = document.getElementById('clienteNome').value;
            const telefone = document.getElementById('clienteTelefone').value;
            const rua = document.getElementById('clienteRua').value;
            const numero = document.getElementById('clienteNumero').value;
            const complemento = document.getElementById('clienteComplemento').value;
            const bairro = document.getElementById('clienteBairro').value;
            const cidade = document.getElementById('clienteCidade').value;
            const estado = document.getElementById('clienteEstado').value;
            const cep = document.getElementById('clienteCep').value;
            
            if (!nome || !telefone || !rua || !numero || !bairro || !cidade || !estado || !cep || !formaPagamento) {
                mostrarNotificacao('Preencha todos os campos obrigat√≥rios', 'error');
                return;
            }
            
            const subtotal = carrinho.reduce((sum, item) => sum + (item.preco * item.quantidade), 0);
            const total = subtotal + 5.00;
            
            const enderecoCompleto = `${rua}, ${numero}${complemento ? `, ${complemento}` : ''} - ${bairro}, ${cidade}/${estado} - CEP: ${cep}`;
            
            const novoPedido = {
                id: Date.now(),
                cliente: {
                    nome: nome,
                    telefone: telefone,
                    endereco: {
                        rua: rua,
                        numero: numero,
                        complemento: complemento,
                        bairro: bairro,
                        cidade: cidade,
                        estado: estado,
                        cep: cep,
                        enderecoCompleto: enderecoCompleto
                    }
                },
                itens: [...carrinho],
                subtotal: subtotal,
                taxaEntrega: 5.00,
                total: total,
                pagamento: {
                    tipo: formaPagamento,
                    troco: formaPagamento === 'dinheiro' ? parseFloat(document.getElementById('valorTroco').value) || 0 : 0
                },
                status: 'pendente',
                data: new Date().toISOString()
            };
            
            pedidos.push(novoPedido);
            carrinho = [];
            
            atualizarCarrinho();
            fecharCheckout();
            
            mostrarNotificacao('Pedido realizado com sucesso! Acompanhe o status.', 'success');
            
            // Limpar formul√°rio
            document.getElementById('clienteNome').value = '';
            document.getElementById('clienteTelefone').value = '';
            document.getElementById('clienteRua').value = '';
            document.getElementById('clienteNumero').value = '';
            document.getElementById('clienteComplemento').value = '';
            document.getElementById('clienteBairro').value = '';
            document.getElementById('clienteCidade').value = '';
            document.getElementById('clienteEstado').value = '';
            document.getElementById('clienteCep').value = '';
            document.getElementById('valorTroco').value = '';
            formaPagamento = null;
            document.querySelectorAll('.payment-method').forEach(method => method.classList.remove('selected'));
            
            // Atualizar status dos pedidos
            setTimeout(() => {
                atualizarStatusPedidosCliente();
            }, 500);
        }

        function fecharModal() {
            document.getElementById('produtoModal').style.display = 'none';
            document.getElementById('observacoes').value = '';
        }

        function fecharCheckout() {
            document.getElementById('checkoutModal').style.display = 'none';
        }

        function mostrarNotificacao(mensagem, tipo) {
            const notification = document.createElement('div');
            notification.className = `notification ${tipo}`;
            notification.textContent = mensagem;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        function atualizarDevPanel() {
            document.getElementById('devTotalRestaurantes').textContent = restaurantes.length;
            document.getElementById('devTotalProdutos').textContent = produtos.length;
            document.getElementById('devTotalPedidos').textContent = pedidos.length;
        }

        function gerarDadosDemo() {
            inicializarDados();
            carregarProdutos();
            mostrarNotificacao('Dados demo carregados!', 'success');
            atualizarDevPanel();
        }

        function limparDados() {
            if (confirm('Tem certeza que deseja limpar todos os dados?')) {
                restaurantes = [];
                produtos = [];
                pedidos = [];
                carrinho = [];
                carregarProdutos();
                atualizarCarrinho();
                mostrarNotificacao('Dados limpos!', 'success');
                atualizarDevPanel();
            }
        }

        function exportarDados() {
            const dados = { restaurantes, produtos, pedidos };
            const dataStr = JSON.stringify(dados, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            
            const link = document.createElement('a');
            link.href = URL.createObjectURL(dataBlob);
            link.download = `foodhub-dados-${new Date().toISOString().split('T')[0]}.json`;
            link.click();
            
            mostrarNotificacao('Dados exportados!', 'success');
        }

        function formatarCep(input) {
            let valor = input.value.replace(/\D/g, '');
            if (valor.length > 5) {
                valor = valor.replace(/^(\d{5})(\d)/, '$1-$2');
            }
            input.value = valor;
        }

        // Fechar modais ao clicar fora
        window.onclick = function(event) {
            const produtoModal = document.getElementById('produtoModal');
            const checkoutModal = document.getElementById('checkoutModal');
            const novoProdutoModal = document.getElementById('novoProdutoModal');
            
            if (event.target === produtoModal) {
                fecharModal();
            }
            if (event.target === checkoutModal) {
                fecharCheckout();
            }
            if (event.target === novoProdutoModal) {
                fecharModalNovoProduto();
            }
        }

        // Inicializa√ß√£o
        inicializarDados();
        switchToCliente();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9789c8d862f5f1b7',t:'MTc1Njc4MjMxNC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
